<html>

	<head>
		<link rel="stylesheet" type="text/css" href="css/main.css" media="screen" />
	</head>
	<style>

div.pane {
	display: inline-block;
	vertical-align: top;
}

div.left {
	width: 8em;
}

div.body h1 {
	margin-top: 0;
}

div.left li {
	font-size: 0.8em;
}

nav a:hover {
	text-decoration: underline;
}

.side-menu {
	background-color: lightgrey;
	height: 100%;
}

.side-menu h2 {
	font-size: 0.8em;
}

nav a {
	cursor: pointer;
	padding: 0.5em 1em;
	font-size: 0.8em;
}

.side-menu a {
	font-weight: bold;
	display: block;
}
.side-menu a.selected {
	background-color: white;
}

.body header nav {
	background-color: lightgrey;
	border: 1px solid lightgrey;
}
.body header nav a {
	display: inline-block;
}
.body header nav a.selected {
	background-color: white;
}

div.body {
	padding: 0;
}

.body section {
	padding: 0.5em 1em;
}

	</style>
	<body>

		<div class='left pane side-menu'>
			<h2>Project List</h2>
			<nav data-bind='foreach: project_list'>
				<a data-bind='css: { selected: selected }, text: name, click: select_project'>Project</a>
			</nav>

		</div>

		<div class='body pane'>
		<header>
			<nav>
				<a name='persona'>Persona</a>
				<a name='outcome'>Outcome</a>
				<a name='hypothesis' class='selected'>Hypothesis</a>
				<a name='backlog'>Backlog</a>
			</nav>
		</header>

		<section class='persona hide'>
			<ul data-bind='foreach: persona_list'>
				<li data-bind='text: name, click: select_persona'>Persona</a>
			</ul>
		</section>

		<section class='outcome hide'>
			<ul data-bind='foreach: outcome_list'>
				<li data-bind='text: name, click: select_outcome'>Outcome</a>
			</ul>
		</section>

		<section class='hypothesis'>
			<table>
				<thead>
					<tr>
						<th>feature</th>
						<th>persona</th>
						<th>outcome</th>
					</tr>
				</thead>
				<tbody data-bind='foreach: hypothesis_list'>
					<tr data-bind='click: click'>
						<td class='description' data-bind='text: description'></td>
						<td class='persona' data-bind='text: persona().name'></td>
						<td class='outcome' data-bind='text: outcome().name'></td>
					</tr>
				</tbody>
				<tfoot>
					<tr>
						<td colspan='2'></td>
						<td class='action'>
							<button class='action close' data-bind='click: addnew'>Add new</button>
						</td>
					</tr>
				</tfoot>
			</table>
		</section>

		<section class='form hide'>

		</section>


		<footer>
		</footer>

	</div>

		<div class='form hypothesis hypothesis-form hide'>
			<h2>hypothesis</h2>
			<ul>
				<li>
					<textarea data-bind="value: description"></textarea>
				</li>
				<li>
					<label>Persona: </label>
					<label data-bind='text: persona().name'></label>
				</li>
				<li>
					<label>Outcome</label>
					<label data-bind='text: outcome().name'></label>
				</li>
			</ul>

			<button class='action close' data-bind='click: close'>Close</button>
		</div>

		<script src="bower_components/jquery/dist/jquery.min.js"></script>
	  <script src="bower_components/knockout/dist/knockout.js"></script>
	  <script src="bower_components/underscore/underscore-min.js"></script>
		<script src="js/index.js"></script>

		<script>
			var vm = new HypothesisViewModel();
			ko.applyBindings(vm, $('div.body')[0]);
			ko.applyBindings(vm, $('div.left')[0]);
			vm.get_for_project(1);

			$(document).keyup(function(e){

			    if(e.keyCode === 27)
			        vm.close_form();

			});

			$( "header nav a" ).click( function(e) {
				$( ".body section" ).addClass( "hide" );
				$( "header nav a" ).removeClass( "selected " );
				$( e.currentTarget ).addClass( "selected" );
				$( "section." + e.currentTarget.name ).removeClass( "hide" );
			});



		</script>
	</body>
</html>
